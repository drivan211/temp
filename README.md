Чтобы выполнить ваши задания, следуя предоставленным инструкциям и используя необходимые команды, отформатируем все шаги для выполнения через CLI. Ниже описаны запросы и команды, которые помогут вам выполнить задачи.

### Шаг 1: Запись информации о состоянии Docker в файл

- Создайте файл с текущей датой:

    ```
FILENAME="docker_info_$(date +%Y-%m-%d).txt"
```
- Получите информацию о Docker и запишите в файл:

    ```
docker info > $FILENAME
```
- Убедитесь, что информация о типе операционной системы также включена:

    ```
echo "Operating System:" >> $FILENAME
    uname -a >> $FILENAME
```

### Шаг 2: Запустите произвольный контейнер и протестируйте производительность

- Запустите произвольный контейнер (например, Ubuntu):

    ```
docker run -d --name test-container ubuntu sleep 3600
```
- Перейдите внутрь контейнера, установите необходимые изменения, и нагрузите систему на 3 минуты:

    ```
docker exec -it test-container bash
    # Установка stress (если отсутствует)
    apt-get update
    apt-get install -y stress
    # Нагрузочное тестирование
    stress --cpu 2 --timeout 180
```
- Оцените результат производительности, после этого заморозьте контейнер:

    ```
docker pause test-container
```
- Разморозьте контейнер:

    ```
docker unpause test-container
```

### Шаг 3: Просмотр логов Apache во время тестирования производительности

- Создайте контейнер с Apache и запустите его:

    ```
docker run -d --name apache-container httpd
```
- В другом терминале, чтобы посмотреть логи, используйте:

    ```
docker logs -f apache-container
```

### Шаг 4: Запустите контейнер с MongoDB и посмотрите статистику

- Запустите контейнер с MongoDB:

    ```
docker run -d --name mongo-container mongo
```
- Получите статистику всех контейнеров без столбца PIDS:

    ```
docker stats --format "{{.Name}}: {{.CPUPerc}} | {{.MemUsage}}" | grep -v PIDs >> $FILENAME
```

### Шаг 5: Изучение дополнительных параметров в тестировании производительности

- Рекомендуется использовать инструменты, такие как **Apache Bench** или **Siege** для тестирования производительности веб-приложений.

### Шаг 6: Считайте количество запросов к веб-серверу за один день с помощью контейнера Nginx

- Запустите контейнер с Nginx:

    ```
docker run -d --name nginx-container -p 80:80 nginx
```
- Используйте Apache Benchmark для генерации трафика, замените  на ваш локальный сервер:

    ```
ab -n 10000 -c 100 http://localhost/
```
- Для получения статистики IP-адресов, можно использовать логирование Nginx. Убедитесь, что логи конфигурированы в /var/log/nginx/access.log.

- Затем, используя awk или другие инструменты для анализа, посчитайте количество запросов по странам:

    ```
cat /var/log/nginx/access.log | awk '{print $1}' | sort | uniq -c
```

### Шаг 7: Записать все результаты в файл

Для записи всех результатов в файл, объедините все команды вывода в один файл:
```
echo "=== Docker Info ===" >> $FILENAME
docker info >> $FILENAME
echo "=== Operating System ===" >> $FILENAME
uname -a >> $FILENAME
echo "=== Stats ===" >> $FILENAME
docker stats --format "{{.Name}}: {{.CPUPerc}} | {{.MemUsage}}" | grep -v PIDs >> $FILENAME
echo "=== Apache Logs ===" >> $FILENAME
docker logs apache-container >> $FILENAME
```

Этот набор команд выполняет все ваши задания. Убедитесь, что у вас установлен Docker и все необходимые образы, а также корректно настроены доступы и разрешения для выполнения команд.
